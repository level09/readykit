{% extends 'layout.html' %}
{% block css %}{% endblock %}

{% block content %}


    <div class="pa-6 w-100" style="max-width: 960px;">
        <div class="d-flex align-center justify-space-between mb-6">
            <h1 class="text-h5 font-weight-bold">${workspaceData.name}</h1>
            {% if user_role == 'admin' %}
            <v-btn
                href="/workspace/team/"
                prepend-icon="mdi-account-group"
                variant="outlined"
                size="small"
            >
                Manage Team
            </v-btn>
            {% endif %}
        </div>

        <!-- Main Content Area - Your Product Goes Here -->
        <v-card variant="outlined" class="mb-6">
            <v-card-text class="pa-8 text-center">
                <i class="ti ti-app-window mb-4" style="font-size: 48px; opacity: 0.2;"></i>
                <h3 class="text-h6 mb-3">Build Your SaaS Product Here</h3>
                <p class="text-body-2 text-medium-emphasis mb-4">
                    Replace this content with your actual product features.
                </p>
                <v-btn
                    color="primary"
                    prepend-icon="mdi-plus"
                >
                    Get Started
                </v-btn>
            </v-card-text>
        </v-card>
    </div>


{% endblock %}

{% block js %}

<script type="application/json" id="workspace-data">
{{ workspace.to_dict()|tojson|safe }}
</script>

<script>
const { createApp } = Vue;
const { createVuetify } = Vuetify;
const vuetify = createVuetify(config.vuetifyConfig);

const app = createApp({
    data() {
        return {
            memberCount: 0, // Will be loaded via API
            drawer: true,
            workspaceData: {},
        };
    },
    delimiters: config.delimiters,
    
    async mounted() {
        // Load workspace data
        this.workspaceData = JSON.parse(document.querySelector('#workspace-data').textContent);
        // Load workspace stats
        await this.loadStats();
    },
    
    methods: {
        async loadStats() {
            try {
                const response = await axios.get(`/api/workspace/${this.workspaceData.id}/stats`);
                this.memberCount = response.data.member_count || 0;
            } catch (error) {
                console.error('Failed to load stats:', error);
                this.memberCount = 0;
            }
        }
    }
});

app.use(vuetify).mount('#app');
</script>
{% endblock %}